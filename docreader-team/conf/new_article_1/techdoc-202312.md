---
order: 3
title: TechDoc Meetup
---

## Начало

Всем привет, меня зовут Саша Мачулин, сегодня я расскажу о том, как:

-  Мы начали использовать Docs as Code, сами того не осозновая.

-  С какими сложностями столкнулись.

-  И как их в конечном итоге решили.

## Слайд обо мне

Расскажу о себе, чтобы вы лучше понимали мой опыт. И почему сложности с Docs as Code это не только удел нетехнических специалистов.

Я работал на разных позициях, но всё было связано с аналитикой и разработкой.

-  Сначала работал в аналитиком на стороне заказчика ИТ-решений. Внедрял системы, писал ТЗ и документацию для подрядчиков.

-  Потом работал на стороне компании разработчика и уже писал ТЗ и документацию для заказчиков.

-  Сейчас я лидирую проектный офис и по совместительству со-основатель компаний, в которых работаю.

Вообще, в проектах внедрения писал код вместе с разработчиками, когда горели сроки и надо было запускать решение в прод. Но и не только тогда. Т.е. писал на SQL, Python, VB, работал с Mercurial/Git/SVN.

## 2020 год

Теперь, когда мы познакомились, давайте о том, как мы пришли к Docs as Code. Шёл 2020 год, мы разрабатывали аналитические системы на заказ для внешних заказчиков.

Документацию писали в docx на Sharepoint, Dropbox.Paper (потому что удобно делать ссылки и навигацию) и, кусочно, в веб-интерфейсе систем были инструкции.

## Пришёл CTO

Наш технический директор Андрей решил наладить процесс ведения документации и предложил вести всю информацию через Git, писать в VSCode и сделал простой static site generator.

Полгода или год я работал с Markdown, Git, Gitlab и даже не знал о существовании подхода Docs as Code.

На слайде вы можете увидеть кусочек статьи, описывающей API одного из наших сервисов где-то в 20 году.  Также вы можете увидеть, как кто-то из коллег положил DOCX файл в репозиторий. Это забавно.

## Почему Docs as Code это хорошо

Я  почитал статьи, которые опубликованы по Docs as Code и основные преимущества там:

-  Использовать возможности git -- непонятно, что там за возможности.

-  Работать одними инструментами с разработчиками -- и в чём смысл?

Мы ретроспективно проанализировали какие реально преимущества мы получили.

-  **Git-транзакции.** Git позволяет в рамках изменения видеть все затронутые файлы. В Confluence и подобных системах не поддерживается транзакционность и изменения вносятся в рамках одного файла. Ревьюер видит затронутые в рамках изменения файлы и может подтвердить эти изменения или отклонить, причём выборочно.

-  **Ветки.** Можно создавать свои версии каталога и массово или точечно вносить изменения. После чего предлагать свои изменения в основную версию.

-  **CI/CD.** Когда человек вносит или подтверждает чужие изменения, то можно запускать автоматические проверки на ошибки, на наличие стоп-слов, корректность ссылок и т.д.

-  **Статические сайты.** Из файлов в репозитории можно легко развернуть множество статических сайтов. Статические сайты  загружаются быстрее, чем динамические, как те, что создаются в Confluence.

-  **Совместное редактирование.** Лично моё. Я не могу спокойно работать, когда вижу чужие курсоры документе. А когда я захожу в документ и вижу, что кто-то что-то пишет, то я всегда жду, когда человек закончит работу. Docs as Code подразумевает асинхронную офлайн работу.

О плюсах все понятно, а теперь о сложностях.

## Docs as Code и фантастически проблемные твари

На своём опыте и опыте других компаний мы составили перечень самых фантастически-проблемных тварей и описали как снизить вред от них.

Перечень составлен в хронологическом порядке, в котором мы с ними сталкивались.

## Открывай по одной

Перед нами 6 карт с тварями, которые мы сегодня с вами откроем. Давайте начнём с самой первой. Бум.

## Зоопарк из инструментов

Первая тварь с которой мы столкнулись -- зоопарк из инструментов, которые нужны чтобы подход заработал. Единого хорошего интегрированного решения не было.

Расскажу какие инструменты нужны на нашем примере:

-  **Язык разметки и редактор**. Допустим, мы пишем в VSCode в Markdown. Всё просто, но за отдельную систему посчитаем.

-  **Markdown-превью**. По-хорошему он нам нужен, чтобы видеть проблемы с разметкой. Нюанс в том, что плагины VSCode не интегрированы с нашим или любым другим static site generator.

-  **Расширения Markdown**. Markdown ограниченный формат и если вы любите красивые исходники или сайты -- подключайте расширения. Ведь в MD нет удобных таблиц, нет картинок с подписями, нет много чего.

-  **GitLab**. Да, это хранилище, в которое можно в теории и не заходить. Но я человек простой, вижу мерж реквест -- иду в GitLab. Другие интерфейсы для мерж реквестов я вообще не понимаю.

-  **Static site generator**. Его необходимо подключить к Git-хранилищу и настроить процесс, чтобы при публикации изменений пересобирался сайт.

-  **Диаграммы**. Мы создавали  диаграммы в Mermaid, [Draw.io](http://draw.io/) и  складывали их картинками в GitLab.

**Какой же вред наносит** тварь.

1. Обездвиживает руководителя проекта, т.к. ему необходимо погрузиться в новый проект и:

   1. Изучить разные варианты реализации и подготовить сравнительную табличку, чтобы подтвердить с руководством и коллегами, что мы выбираем лучший вариант из возможных.

   2. Поставить задачу на разработку, принимать задачи и запускать в прод.

2. Требуется несколько разработчиков, которые всё установят, настроят и будут поддерживать. А потом будут ещё и дорабатывать.

**Как снизить вред**

Найти опытного руководителя проекта, который уже через это прошёл и знает все проблемы.

Так, что у нас дальше.

## Здесь открой три

Вау. Давайте откроем три нижних.

Бум. Бум. Бум.

Да уж. Давайте посмотрим на них поближе.

## Нечто из Git

Git хоть и мощная, но весьма сложная система и может вызывать трудности у тех, кто не вырос бок-о-бок с командной строкой и системой контроля версий. Для разработчиков Git тоже сложен, иначе не придумывали бы EasyGit. Для меня Git тоже сложен и вот в чём это проявляется.

-  **Не хочу думать о командах в Git.** В особенности о cherry-pick и revert, ну и других. Если в консоли написать git help, то там 20 команд, у каждой команды по 50 параметров. От этого взрывается голова.

-  **Каждый конфликт для меня боль.** Так как нет интуитивно понятного UI решения конфликтов. Я пишу в VSCode, а самый удобный для меня решатель конфликтов в GitLab.

-  **Я не понимаю ошибки Git**. При очередной ошибке я написал Андрею:\
   *«Я не хочу лезть в эти ветки. Мне проще сейчас все статьи в dropbox.paper скопировать и сказать команде, что теперь будем только там писать».*

**Как снизить вред**

-  **Призвать на помощь ChatGPT.** Раньше я шёл гуглить команды или ошибки, но уже год пользуюсь чатом и это сильно упрощает и ускоряет работу. В гугле надо что-то кликать, скроллить, искать ответы. В чате выдаётся короткий и персонализированный ответ. Лучше использовать 4 версию, но можно и 3.5.

Что у нас дальше.

## Дальше по одной

Осталось всего 2 карты с тварями, надеюсь пройдёт хорошо.

## Ревью с заказчиком

Мы  настроили   окружение, пишем в Markdown, всё круто. Но потом выяснилось, что нам надо давать документацию на ревью внешним и внутренним заказчикам. Которые морально не готовы в Markdown и вот этому всему. С веб-интерфейсом GitLab тоже не особо хотят разбираться.

Какой выход -- начинаем обмениваться с ними файликами. И возвращаемся к тому с чего начали -- DOCX файл с маркировкой v2 или Копия, Копия, Копия. Все негативные последствия я думаю известны: доп. затраты на сведение информации и возможная её потеря.

**Как снизить вред**

-  Обсуждать документацию только в таск-трекере.

-  Подключить плагин с комментариями на static site generator. Приветствуем новенького в нашем зоопарке инструментов.

Так, тянем последнюю карту.

## Последняя

Да, блин. Ещё же онбордить как-то надо.

## Онбординг

Т.к. у нас много систем для DaC, нужно много хардскиллов, чтобы в нём работать. Значит мы  завышаем порог входа в команду. Завышенный порог входа выражается в более долгом получении полезного результата от нового человека: от поиска до начала решения рабочих задач.

**Какой же вред наносит** тварь.

-  Переключить внимание с языка разметки и git-команд на контент у новичка получится только через пару месяцев. Я вот не работал раньше ни с asciidoc, ни с reStructured. Понятно, что там не сильно сложно, но буду первое время тормозить.

-  Неизбежно отвлекает опытных коллег на консультации.

**Как снизить вред**

-  Сделать инструкцию ориентированную только на работу в GitLab. Т.к. с GitLab начать проще всего. Когда человек научится, то уже сам усложнит себе работу ;)

-  Принимать в команду только  с опытом работы с Git и прочим. Людей, которые реально в этом хорошо разбираются -- мало.

-  Общий аккаунт ChatGPT. Реально для многих людей VPN, Иностранный номер и иностранная платёжная карта -- большая сложность на пути к использованию чатжпт. Мы сделали общий VPN, сделали общий платный аккаунт чатжпт и им стало пользоваться на регулярной основе намного больше людей в компании.

## Итог

Подход Docs as Code хороший, помогает, очень перспективный, но вернёмся к тому, с чего мы начали -- нет нормальных инструментов и автоматизации. Из-за этого получаем:

-  Зоопарк инструментов и систем.

-  Сложное ежедневное использование.

-  Согласование с заказчиком вне плоскости Docs as Code.

-  Продолжительный поиск людей или онбординг.

Вернёмся на поле боя.

## Тебе крышка

Мы прошли через все эти проблемы и развили наш static site generator в полноценный wysiwyg-редактор и понятный интерфейс к Git и GitLab.

Давайте посмотрим, что это за зверь.

## Gramax

-  Объединили нужные инструменты в одно приложение. Редактор веб/mac/win в котором сразу видишь как будет на портале, в который встроены диаграммы, удобные ссылки,  Git и многие другие вещи.

-  Вынесли ключевые сценарии использования в простой интерфейс. Наша задача -- сложное сделать простым. Чтобы можно было каждый день с удовольствием писать контент в Docs as Code и фокусироваться на содержании, а не на палочках в Markdown таблице.

-  Добавили инлайн-комментарии в редактор. Для удобного ревью.

-  Сделали ссылку на ревью в браузере. Это моя любимая фича. Расскажу на примере как работает.

## Как ревью проводить

У нас есть заказчик, крупный производитель напитков. Я генерирую им ссылку, отправляю. По ссылке открывается понятный и простой текстовый редактор в браузере. В него по безопасному токену подгружается контент из нашего GitLab репозитория. Люди на той стороне не технические и Gramax никогда в жизни не видели. Я им сделал короткий обзор на 2 минуты: пишите тут, комментируйте так, когда всё -- жмите сюда. И они всё сделали: изменили контент, оставили комментарии и отправили это обратно в наш GitLab. Магия ;)

## Как работает

Приложения напрямую взаимодействуют с вашими хранилищами. Единственое взаимодействие с нашим сервером -- запрос более актуальной версии. Даже когда вы работаете через браузер на [app.gram.ax](http://app.gram.ax), то всё работает локально, как в [draw.io](http://draw.io). Только лучше.

Детально демонстрировать сейчас не буду, т.к. займёт много времени.

**Ключевое**, что теперь вы с помощью Грамакса можете решить и свои проблемы. Приложения для windows, mac, браузерная версия, сайт генератор -- опенсурсные и бесплатные. Можете скачать их на нашем сайте и сами всё посмотреть.

НО

## Нитки

Если вы попробуете нас загуглить, то там будут одни нитки и какие-то препараты. Поэтому пока ищите нас в Яндексе или используйте QR код на сайт.

## Контакты

Где можно попробовать поработать сразу в браузере.  Там же есть ссылка на github с исходным кодом.

Мой телеграм, можете писать мне по любым вопросам. С удовольствием отвечу.

У меня всё. Готов ответить на ваши вопросы.
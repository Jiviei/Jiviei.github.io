---
order: 6
title: Как мы в документации подружили разработчиков с нетехническими специалистами
---

**О нас:**

-  Автоматизируем бизнес-процессы в Pharma и FMCG производителях.

-  Разрабатываем собственные продукты и кастомные системы для заказчиков.

**Дано:**

-  Разные репозитории с проектами.

-  Документация в комментариях в коде и описаниях user story в таск-трекере.

-  Команды из аналитиков, продактов, специалистов поддержки и разработчиков.

**Потребность:**

1. Статический сайт с документацией.

2. Разворачивание на собственном сервере.

3. Разные доступы на каталоги (один каталог -- один клиент).

4. Версионирование документации.

5. Хранение документации в одном репозитории с кодом.

## Первый этап

Сделали простой движок, который генерирует маркдаун в сайт. Как была устроена работа:

1. Настраиваешь окружение, разворачиваешь локальный сервер.

2. Редактируешь маркдаун, смотришь результат на локальном сервере.

3. Комментируешь доку и пулишь на сайте.

**Плюсы:**

-  Разработчики легко вкатились в процесс и стали писать доку.

-  Появились красивые каталоги.

**Минусы:**

-  Продакты и аналитики мучительно по несколько дней себе все настраивали. Мучительно изучали гит. В итоге писали все в ворде, а потом отдавали разработчикам на публикацию.

**Резюме:**

Нужно сделать так, чтобы нетехнические специалисты тоже легко могли писать доку.

## Второй этап

**Потребности поверх предыдущих:**

-  Легко развернуть окружение.

-  Легко писать сразу на портал документаии, а не в блокнот/ворд/заметки.

-  Легко писать с ноутбука, телефона, планшета.

-  Скрытый гит, чтобы не нужно было его изучать.

-  Ничего не менять для разработчиков.

-  Возможность расширения.

**Куда смотрели:**

{% table %}

---

*  {% isHeader=true %}

   Система

*  {% isHeader=true %}

   Плюсы

*  {% isHeader=true %}

   Минусы

---

*  Вики-движки

*  -  Покрываются потребности нетехнических специалистов.

*  -  Нужно менять процесс для разработчиков.

   -  Долго переносить всю инфу.

   -  Заново настраивать все доступы.

---

*  Docozaurus

*  -  Не нужно менять процесс для разработчиков.

   -  Можно быстро все перенести.

   -  Красивые стили.

   -  Легко расширять.

*  -  Нет визуального редактора.

   -  Сложная настройка окружения для нетехнических специалистов.

---

*  Obsidian

*  -  Не нужно менять процесс для разработчиков.

   -  Можно быстро все перенести.

   -  Красивые стили.

   -  Много полезных плагинов.

*  -  Сложная настройка окружения для нетехнических специалистов.

---

*  GitBook

*  -  Не нужно менять процесс для разработчиков.

   -  Можно быстро все перенести.

   -  Есть визивиг и интерфейс для работы с гитом.

   -  Можно подключить свою SSO и развернуть на своем сервере.

*  ¯\\\_(ツ)\_/¯

{% /table %}

И вроде бы GitBook идеально подходит, пора связываться с их отделом продаж.\
Но появляется новое требование. Так как мы работаем в РФ и все наши заказчики -- компании из РФ, документацию по проектам нам желательно хранить в системе отечественного производства.

Потому мы проводим исследование, убеждаемся, что такая проблема есть не только у нас и многие решают ее окольными путями. Перекидываем на проект еще одного разработчика и начинаем разработку инструмента под все потребности.

## Что мы сделали

-  Приложение на JS, которое можно установить на компьютер или открыть в браузере.

-  Визивиг-редактор на библиотеке Tip-Tap. Дописали новую логику и исправили баги оформления.

-  Изоморфик-гит под капотом.

-  Кучу полезных фич для удобного процесса работы.

## Как работаем сейчас

{% table %}

---

*  {% isHeader=true %}

   Этап

*  {% isHeader=true %}

   Разработчик

*  {% isHeader=true %}

   Нетехнический специалист

---

*  {% isHeader=true %}

   Установка

*  Ничего не делает. Все окружение у него установлено.

*  Скачивает приложение или открывает его в браузере.

---

*  {% isHeader=true %}

   Настройка

*  Ничего не делает. Все окружение у него установлено.

*  Подключает хранилище GitLab и вводит свой токен.

   СКРИН

---

*  {% isHeader=true %}

   Клонирование репозитория

*  Клонирует реп из GitLab через привычную IDE или командами.\
   СКРИН

*  Выбирает, в каком репозитории хочет работать -- он клонируется в приложении.\
   СКРИН

---

*  {% isHeader=true %}

   Редактирование

*  Открывает в IDE папочку c докой и редактирует текст в маркдауне.\
   СКРИН

*  В удобном визуальном редакторе редактирует текст, создает новые статьи, меняет их местами и так далее.

   СКРИН

---

*  {% isHeader=true %}

   Смена ветки

*  Командами или в интерфейсе IDE меняет ветку.\
   СКРИН

*  В интерфейсе приложения меняет ветку.

   СКРИН

---

*  {% isHeader=true %}

   Проверка на ошибки

*  Проверяет ссылки плагином (нет).

*  Проверяет ссылки, изображения, диаграммы.\
   СКРИН

---

*  {% isHeader=true %}

   Ревью

*  1. Для ревью с разработчиками -- создает мерж реквест в GitLab.

   2. Для ревью ПО -- смотрит комментарии из приложения.\
      \
      СКРИН КОММЕНТОВ В ИСХОДНИКЕ

*  Оставляет комментарии в приложении. Участвует в цепочках обсуждения, резолвит внесенные исправления.\
   СКРИН

---

*  {% isHeader=true %}

   Сравнение версий

*  Смотрит изменения в GitLab или Fork.\
   СКРИН

*  Просматривает в приложении историю изменений с детализацией до юзера, даты и измененных строк.\
   СКРИН

---

*  {% isHeader=true %}

   Публикация

*  Командами или в интерфейсе IDE делает коммит и пуш.\
   СКРИН

*  Нажимает “Опубликовать”.\
   СКРИН

---

*  {% isHeader=true %}

   Чтение

*  Читает прямо в IDE.

*  Отправляет ссылку на сайт заказчику.\
   Заказчик просматривает только свой каталог, так как к остальным нет доступа.

{% /table %}

## Что еще сделали для удобной работы

### Ссылка на редактирование

ПО может отправить заказчику ссылку на ревью неопубликованной статьи -- по ней автоматически откроется нужный каталог на нужной ветке. Как заказчик опубликует изменения без доступа в GitLab? Это мы учли -- в ссылке также есть одноразовый токен для публикации. По сути он имперсонируется под пользователем, который отправил ссылку.

### Поддержка диаграмм

Добавили поддержку:

-  TS-диаграммы -- для описания верхнеуровневой структуры компонентов системы.

-  PlantUML -- для описания архитектуры системы в виде кода.

-  ER-диаграммы -- для описания структуры БД.

-  C4 Structurizr

-  [Diagrams.net](http://Diagrams.net).

Интерфейс последних мы добавили прямо в приложение, чтобы не приходилось переключаться. Остальные можно править в виде кода -- в исходнике или тоже в приложении.

### Приложение для iOS и Android

ПО не всегда работают за компьютером, потому многие идеи и обсуждения хранились в мессенджере. Чтобы не терять и не переносить все это, мы сделали приложение. Теперь переписка в мессенджере выглядит так:

![](./../../../../new_article_0/new_article_4_0.png)

## Интересные выводы

1. Многие разработчики правят доку в приложении, а не в исходниках. Мы не заставляли, они сами.

## Что еще будем делать

-  **Воркфлоу согласования**. Чтобы прямо в интерфейсе можно было апрувить доки перед публикацией.

-  **Мерж реквест в интерфейсе**. Чтобы защитить мастер от прямых коммитов, а следовательно -- не засорять историю изменений мелкими правками.
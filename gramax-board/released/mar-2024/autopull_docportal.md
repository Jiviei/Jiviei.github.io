---
order: 6
title: "@SP [done] Автопулл в докпортале"
---

Сейчас в докпортале необходимо вручную подтягивать изменения и это вызывает проблемы у пользователей. Поэтому необходимо сделать автопулл изменений.

#### Критерии приемки

1. Для пользователя:

   1. Изменения сами будут подтягиваться из привязанных репозиториев

2. Для администратора:

   1. Нужно будет указать токен для автопулла (`AUTO_PULL_TOKEN`) и настроить частоту автопулла в секундах (`AUTO_PULL_INTERVAL`), по умолчанию частота автопулла будет 3 минуты. Частоту не по умолчанию нужно указывать в переменных средах.

   2. Если токен не указан, то автопулл не будет запускаться.

   3. Ошибки при пулле будут логироваться в консоль.

#### Ограничения

1. Нельзя смешивать каталоги разных хранилищ (т.е нельзя хранить вместе каталоги с гитхаба и каталоги с гитлаба)

2. Автопулл запустится после запуска только когда первый пользователь зайдет на сайт (ограничение next.js’а)

#### Трудоемкость

2-3 дня
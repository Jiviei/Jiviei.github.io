---
order: 1
title: "@EP [done] Импорт текста и вложенных файлов"
---

Для первого этапа нам достаточно переносить только базовые элементы, которые есть в Gramax. На следующих этапах добавим перенос сложных элементов, специальный контрол для неподдерживаемых, информационное окно после переноса и проверку на ошибки.

## Критерии приемки

1. При импорте переносится весь текст и файлы, которые содержатся в статье и поддерживаются в Gramax (см. Поддерживаемые элементы).

2. Если контрол не входит в список поддерживаемых элементов, вместо него вставляется заметка.

:::note:true Не удалось импортировать «Элемент» из Confluence

Вы можете перенести его вручную со страницы [https://baranka144.atlassian.net/wiki/spaces/\~71202020c2e56bb5c14d0bbc06a0a651f2615e/pages/65540](https://baranka144.atlassian.net/wiki/spaces/%7E71202020c2e56bb5c14d0bbc06a0a651f2615e/pages/65540)

```JSON
   Код элемента
```

:::

:::hotfixes:true Техническая информация - ЗАметка

Сейчас над заметкой вставляется пустая строка (она не совсем пустая, там есть невидимый символ, пустая строка просто бы удалилась).\
У нас есть баг, если в таблице над заметкой нет ничего, кроме пустой строки, это ломает страницу

Неподдерживаемые инлайновые элементы будут ломать заметку об ошибке импорта

:::

## Поддерживаемые элементы

{% table %}

---

*  {% colwidth=[368] isHeader=true %}

   В Confluence

*  {% colwidth=[413] isHeader=true %}

   В Gramax

---

*  {% colwidth=[368] %}

   Стили текста

   ![](./_index_0.png)

*  {% colwidth=[413] %}

   Стили текста:

   -  Обычный текст

   -  Н1 -> Н2

   -  Н2 -> Н3

   -  Н3 -> Н4

   -  Н4 -> жирный текст

   -  Н5 -> жирный текст

   -  Н6 -> жирный текст

---

*  {% colwidth=[368] %}

   Расширенные параметры форматирования

   ![](./_index_1.png)

*  {% colwidth=[413] %}

   Стили текста:

   -  **Жирный**

   -  *Курсив*

   -  **Подчеркнутый -- просто жирным**

   -  ~~Зачеркнутый~~

   -  `Строка кода`

   -  Обычный текст

   -  Обычный текст

---

*  {% colwidth=[368] %}

   Выравнивание текста

   ![](./_index_2.png)

*  {% colwidth=[413] %}

   Обычный текст.

---

*  {% colwidth=[368] %}

   Цвет текста

   ![](./_index_3.png)

*  {% colwidth=[413] %}

   Цвет текста.

   *Примечание к переносу:*

   *Применять цвет текста из Markdown. Без редактирования текста в панели.*

---

*  {% colwidth=[368] %}

   Списки и отступы

   ![](./_index_4.png)

*  {% colwidth=[413] %}

   Списки и отступы:

   -  Маркированный

   -  Нумерованный

   -  Табы

   *Примечание к переносу:*

   *Вложенные списки переводить в наше оформление.*

---

*  {% colwidth=[368] %}

   Задача

   ![](./_index_5.png)

*  {% colwidth=[413] %}

   Маркированный список.

   *Примечание:*

   Список задач с вложенностью переноситься в следующем виде:

   -  Один

   -  Два

   -   

      -  Три

---

*  {% colwidth=[368] %}

   Ссылка

   ![](./_index_6.png)

*  {% colwidth=[413] %}

   Ссылка.

   *Примечание к переносу:*

   -  *Ссылки на другие страницы в конфлюенсе переносим ссылками на конфлюенс.*

   -  *Абсолютные ссылки на другие ресурсы просто переносить.*

---

*  {% colwidth=[368] %}

   Изображения, видео, файлы

   ![](./_index_7.png)

*  {% colwidth=[413] %}

   Изображения, видео, файлы.

   *Примечание к переносу:*

   -  *Изображения -- просто переносим.*

   -  *Видео -- не переносим.*

   -  *Файлы -- просто переносим.*

---

*  {% colwidth=[368] %}

   ![](./ep-a-import-texta-3.png)

*  {% colwidth=[413] %}

   Видео

   *Примечание:*

   Переносятся все “Коннектор виджета”, но не весь контент в них поддерживается

---

*  {% colwidth=[368] %}

   Эмодзи

   ![](./_index_9.png)

*  {% colwidth=[413] %}

   Эмодзи.

   *Примечание к переносу:*

   Просто переносим, без редактирования в панели.

   *Примечание:*

   При создании страницы с использованием некоторых шаблонов, эмодзи в конфлюенсе могут храниться в таком виде: `\uD83D\uDCD8`

   Переносятся таким же текстом.

---

*  {% colwidth=[368] %}

   Макеты

   ![](./_index_10.png)

*  {% colwidth=[413] %}

   Переносим в виде таблицы с одной строкой.

   *Примечание:*

   Сохраняем пропорции макета, нужно проверить корректность

   Таблица в макете(У нас будет таблица в таблице) ломает статью

---

*  {% colwidth=[368] %}

   Таблица

   ![](./_index_11.png)

*  {% colwidth=[413] %}

   Таблица.

   *Примечание к переносу:*

   -  *Переносим таблицы со всем вложенным контентом.*

---

*  {% colwidth=[368] %}

   Фрагмент кода

   ![](./_index_12.png)

*  {% colwidth=[413] %}

   Блок кода.

   *Примечание к переносу:*

   -  *Переносим название языка для подсветки.*

---

*  {% colwidth=[368] %}

   Информационная панель

   ![](./_index_13.png)

*  {% colwidth=[413] %}

   Заметка.

   *Примечание к переносу:*

   *Сопоставление стиля заметки в конфе и в грамаксе:*

   -  *Информация -- info*

   -  *Примечание -- tip*

   -  *Готово -- lab*

   -  *Предупреждение -- note*

   -  *Ошибка -- danger*

   *Другие примечания:*

   -  *В конфе у заметки можно заменить иконку на эмодзи и поменять цвет фона. Это игнорируем и не переносим.*

---

*  {% colwidth=[368] %}

   Цитировать

   ![](./_index_14.png)

*  {% colwidth=[413] %}

   Цитата.

---

*  {% colwidth=[368] %}

   Разделитель

   ![](./_index_16.png)

*  {% colwidth=[413] %}

   Линия.

---

*  {% colwidth=[368] %}

   Разворачивание и раскрыть

   ![](./_index_17.png)

   ![](./_index_19.png)

*  {% colwidth=[413] %}

   Блок скрытого текста.

---

*  {% colwidth=[368] %}

   Выборка и Вставить фрагмент

   ![](./ep-a-import-texta-2.png)

   ![](./_index_23.png)

*  {% colwidth=[413] %}

   Переносим просто текстом.

   *Примечание:*

   Места с “Вставить фрагмент” не поддерживаются(

---

*  {% colwidth=[368] %}

   Статус

   ![](./_index-5.png)

*  {% colwidth=[413] %}

   *Примечание к переносу:*

   *Оформить как инлайновый код.*

   [icon:check]

---

*  {% colwidth=[368] %}

   Дата из календаря

   ![](./_index-6.png)

*  {% colwidth=[413] %}

   *Примечание к переносу:*

   *Прописать датой.*

   [icon:check]

{% /table %}

## Замечания

-  У таблицы не переносится первый столбец.

   ![](./ep-a-import-texta-5.png)

-  Нумерованный список неправильный.

   ![](./ep-a-import-texta-4.png)

   ![](./ep-a-import-texta-6.png)

-   

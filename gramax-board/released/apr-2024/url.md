---
order: 7
title: "@PS [done] Название файла статьи из заголовке"
---

Сейчас все статьи создаются с дефолтными именами и порядковыми номерами. Это вызывает баги и выглядит некрасиво. Нужно автоматически генерировать название файла по заголовку статьи.

**Критерии приемки:**

-  Когда в только что созданную статью написали заголовок, то при пропадании фокуса с заголовка статьи

   -  Автоматически генерируется название файла и оно же используется в качестве url:

      1. Название файла создается из транслитерации заголовка строчным буквами. Например, если заголовок статьи “Термины”, название файла будет -- “terminy“. Стиль именования kebab-case.

      2. Вместо любых не латинских знаков и цифр ставится дефис. Если после преобразования заголовок оказывается пустым, то файл не переименовывается.

      3. Если название сгенерировалось такое же, которое уже есть в текущем узле, в конец добаляется суффикс “-2”. Если сгенерерировалось ешё одно такое же, то в конце “-3” и так далее.

      4. Если название состоит чисто из некорректных символов, название файла не меняется

   -  Статья считается только что созданной если в названии ее файла содержится подстрока `new_article`, `new-article`.

-  При  создании стати она создается с названием `new_article_{0..N}` думаю лучше сделать `new-article-{2..N}`. Если это первая статья то просто `new-article`.

-  Такая же логика для создания каталога, создавать не `catalog_{0..N}`, а `new-catalog-{2..N}`. Если это первая статья то просто `new-catalog`. И дефолтное название не `Каталог {idx}`, а `Новый каталог`. (<https://support.ics-it.ru/issue/GXS-1639>)

-  Также добавить логику в *Настройки каталога*, чтобы при изменении названия каталога название репозитория менялось по той же логике что и название статьи. Меняться должно только в если все условия проходят:

   -  Каталог еще не привязан ни к какому репозиторию

   -  В названии репозитория присутствует подстрока `new-catalog`, `new_catalog`

-  Добавить такую же логику изменения url статьи/раздела при изменении названия статьи через свойства статьи/раздела

-  Такая же логика при добавлении ресурсов к статье

-  Ограничить длину транслитерации до 50 символов, иначе могут быть очень длинные названия файлов

**Оценка:**

-  Хорошо срок: 1 день

-  Крайний срок: 3 дня
---
order: 4
title: Энтерпрайз-аутентификация
---

В [app.gram.ax](http://app.gram.ax), десктопном приложении и на докпортале есть кнопка “Войти” в правом верхнем угле. При нажатии открывается окно c текстом “Войти с помощью Single sign-on”, под ним более мелкий текст “Используйте рабочий email, чтобы получить доступ к  каталогам организации”. Ниже поле с email.

:::tip 

В будущем нам необходимо будет дать возможность логиниться под разными аккаунтами в разные воркспейсы. Т.к. у человека может быть несколько рабочий воркспейсов и свой личный в Gramax Cloud.

:::

### Авторизация в редакторе

1. **Воркспейс организации**. В редакторе появляется крутилка, загружается конфигурация, каталоги, плагины с сервера.

2. **Переключатель спейсов**. В верхнем правом углу на главной странице появляется название организации с кареткой вниз. При клике на нее видим два элемента: \[Название организации\] (активен), Личный. При клике на “Личный” пользователь переключается в обычный open-source gramax без корпоративных настроек. Для каждого воркспейса есть свой локальный root path, который можно настроить в settings.

3. **Кнопка “Выйти”**. При нахождении в корпоративном воркспейсе, сверху справа отображается кнопка “Выйти”. Папка с файлами на диске остаётся, а воркспейс удаляется из приложения.

4. **Базовые каталоги**. На главной странице показываются плашки каталогов, помеченные администратором организации как [базовые](./../../../upcoming-release/enterprise-server/setup). В плашке каталога отображается иконка облачка с тултипом “Преднастроенный администратором каталог, который ещё не был склонирован. Войдите в него, чтобы склонировать”.

5. **Загрузка каталога по требованию**. При нажатии на плашку каталога с облачком, рядом с облаком начинает крутиться крутилка. После завершения загрузки каталог автоматически открывается. В загруженном каталоге есть связь с хранилищем. Если во время загрузки нажимаю на другой каталог, он также пытается открыться.

6. **Корпоративное хранилище**. При нажатии “Добавить каталог” в выпадающем списке уже видит корпоративное хранилище. Если оно одно, то выбирается автоматически. Свои хранилища добавить не может. Если доступа на редактирование к каталогу нет в конфиге, то и подгрузить каталог не может из хранилища. В идеале не видеть в дропдауне этот каталог.

7. **Обновление настроек**. При каждой загрузке приложения, конфигурационный файл всякий раз загружается и настройки могут обновиться, например могут добавиться плагины. Если были добавлены новые базовые каталоги -- они появляются, а удаленные незагруженные исчезают.

### Авторизация на докпортале

1. **Автологин на портал через SSO**. Присылают ссылку вида `x5.gram.ax/XXX`, при клике, если не был ранее авторизован -- перекидывает на SSO. После авторизации на нем, перекидывает обратно.

2. **Каталоги отфильтрованные по правам**. Видны все каталоги и статьи, отфильтрованные по правам, на основе групп в которые входит читатель.

### 
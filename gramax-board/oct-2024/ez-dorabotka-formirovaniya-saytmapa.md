---
order: 15.5
title: "@EZ @AL Пользовательская настройка индексации портала"
properties:
  - name: Assignee
    value: EZ
  - name: PO
    value: AM
  - name: Release
    value: october-24
  - name: State
    value:
      - done
---

## Проблема

Индексация всех каталогов происходит автоматически, нужно добавить возможность запрета индексации сайта и ручной настройки robots.txt

## Анализ

Индексация портала может находиться в трёх состояниях:

1. Не индексировать

2. Индексировать

3. Пользовательская индексация(файл robots.txt)

## Критерии

Если пользователь разместил файл robots.txt как было указано ранее в инструкции:

:::quote 

1. Добавьте эти файлы на сервер в одну папку с `docker-compose.yaml` Gramax.

2. В `docker-compose.yaml` в поле `volumes:` добавьте путь до этих файлов

:::

То по пути `domain.com/robots.txt` автоматически будет выдаваться пользовательский **robots.txt**

-  Если файла нет, программа смотрит на значение `DISABLE_SEO` в переменных средах(по умолчанию **false**) и автоматически создаёт файл **robots.txt**

   -  **False:** Индексация разрешена

   -  **True:** Индексация запрещена

:::note 

Если `DISABLE_SEO` в значении **true**, но у пользователя размещён файл robots.txt, то по пути `domain.com/robots.txt` будет отдаваться пользовательский файл

:::

### Документация

-  Обновить документацию [Настроить индексацию в поисковых системах | Gramax Docs](https://gram.ax/resources/docs/doc-portal/search-indexing)